<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bdqn.huanxun.dao.data.DataStuCourseMapper">
    <select id="countStuCourseByLessonTypeID" parameterType="integer" resultType="integer">
        SELECT count(1) FROM data_stucourse where
    </select>
    <select id="findStuCourseByYear" resultType="map">
        SELECT DATE_FORMAT(`createTime`,'%Y') AS `value`, COUNT(1) AS total
        FROM `studentcourse`
        GROUP BY DATE_FORMAT(`createTime`,'%Y')
    </select>
    <select id="findStuCourseByMonth" resultType="map">
        SELECT DATE_FORMAT(`createTime`,'%Y-%m') AS `value`, COUNT(1) AS total
        FROM `studentcourse`
        GROUP BY DATE_FORMAT(`createTime`,'%Y-%m')
    </select>
    <select id="findStuCourseByQuaterYear" resultType="map">
        SELECT CONCAT(DATE_FORMAT(`createTime`, '%Y年'),FLOOR((DATE_FORMAT(`createTime`, '%m')+2)/3),'季度') AS `value`,COUNT(1) AS total
        FROM `studentcourse`
        GROUP BY CONCAT(DATE_FORMAT(`createTime`, '%Y'),FLOOR((DATE_FORMAT(`createTime`, '%m')+2)/3))
    </select>
</mapper>